import React, { useState, useEffect} from 'react';import {    View,    Text,    Image,    TouchableOpacity} from 'react-native';import {styles} from "../style";import {Icon} from "react-native-elements";import { UPDATE_ORDER } from '../../../../graphql/order';import { ORDER_BY_ID } from '../../../../graphql/order';import {useMutation, useQuery} from '@apollo/react-hooks';import addDishToOrder from '../../../../services/order/addDishToOrder'export default ({item, modalRef, setDataInfo, order}) => {    const onOpenInfo = () => {        const modal = modalRef.current;        if (modal) modal.open();        setDataInfo({            ...item,            ...{typeModal: 'info'}        });    };    const onOpenBuy = () => {        const modal = modalRef.current;        if (modal) modal.open();        setDataInfo({            ...item,            ...{typeModal: 'buy'}        });    };    const id= order.id;    const { loading, error, data, refetch } = useQuery(ORDER_BY_ID, {                variables: { id },    });    const updateData=()=>{            try{                refetch();            }            catch (error) {                console.log('ERROR gql-refetch in ItemCard', error)            }        };    const [updateOrder] = useMutation(UPDATE_ORDER);    const addToOrder=(dish)=>{        if(data.order){            addDishToOrder(dish, data, updateData, updateOrder)    } }    return (        <View>            <View style={styles.detailListCellContainer}>                <View style={styles.detailListCellLastIndexContentViewContainer}>                    <Icon containerStyle={styles.iconInfoContainer}                          name='info'                          type='font-awesome'                          color='#E9C294'                          size={100}                    />                    <TouchableOpacity activeOpacity={0.1} onLongPress={onOpenInfo}>                        <Image                            style={styles.imgDish}                            source={{uri: item.img}}                        />                    </TouchableOpacity>                    <View style={styles.detailListCellContentViewBottomContainer}>                        <View style={styles.mainTitle}>                            <Text style={styles.title}>{item.title}</Text>                            <Text style={styles.price}>$ {item.price}</Text>                        </View>                        <TouchableOpacity activeOpacity={0.1} onLongPress={onOpenBuy} onPress={()=>addToOrder(item)}>                            <Icon containerStyle={styles.iconBuyContainer}                                  name='shopping-cart'                                  type='font-awesome'                                  color='#E9C294'                                  size={50}                            />                        </TouchableOpacity>                    </View>                </View>            </View>        </View>    )}